<!DOCTYPE html><head><title>不便携的有道词典便携版 - kkocdko's blog</title><meta name="description" content="包含常用离线词典，去除非会员下载限制"><script src="/bundle.js" onload="[].flat||(location='/update.html')"></script></head><main><article><h1>不便携的有道词典便携版</h1><blockquote><p>此文作废。本人不再推荐使用，也不再提供有道词典修改版。本文仅供对修改有兴趣的网友参考。请直接跳至<a href="#modify">Modify</a>。</p></blockquote><blockquote><p>推荐各位使用：<a href="https://www.eudic.net">欧路词典</a>。可能需要一些不算繁琐的手动配置。</p></blockquote><h2 id="intro">Intro</h2><p><img src="/res/20180606-1949-001.webp" alt="001"></p><ul><li><p>包含常用离线词典，可在离线状态下使用。</p></li><li><p>去除：</p><ul><li>所有广告</li><li>词典下载限制（非会员登录也可下载会员词典）</li><li>Mini 模式</li><li>浏览器集成扩展</li><li>主窗口左侧“有道精品课”等推广按钮</li><li><strong>划词翻译、截屏翻译、屏幕取词</strong></li><li>除英语外所有自带词库</li><li>离线时词条页面底部“网络不可用”提示横幅</li><li>主窗口波浪背景图</li><li>部分无效图片资源</li><li>ffmpeg、flash 等使用较少的组件</li><li>用户反馈、满意度调查、崩溃报告与遥测</li><li>检查更新与版本升级</li><li>未启用取词时切换托盘图标</li></ul></li><li><p>默认设置：</p><ul><li>无热键</li><li>禁用大部分首次使用引导提示弹窗</li><li>点击关闭按钮最小化到托盘</li></ul></li><li><p>词条页面鼠标悬停于喇叭按钮时不触发语音播放。</p></li><li><p>替换主图标为无“有道”字样的图标。</p></li><li><p>修改最小窗口大小至 <code>551x450</code>。</p></li><li><p>修改默认首页英文谚语为 “It&#39;s never too old to learn”。</p></li><li><p>使用 <code>clean-css</code>、<code>terser</code> 和 <code>leanify</code> 压缩 UI 相关文件，略微提升启动速度。</p></li></ul><h2 id="misc">Misc</h2><h3 id="about-local-dictionary">About Local Dictionary</h3><p>集成的离线数据包有：同近义词、词组短语、美式离线语音库、英英释义、21 世纪大英汉词典、英汉互译离线数据包。</p><p>在此感谢某位同学，她给我提供了用作测试的有道词典会员账号。在这里，我憋着笑，为她默哀 3 幺秒。这是因为——</p><p>不知是 Bug 或是<del>出于坑用户的考虑</del>，无论你是否为会员，是否下载了离线词典，在<strong>离线</strong>查询英文单词时，都会和平常一样，只显示“简明释义”。</p><p>本人测试了多个版本的有道词典桌面客户端，发现 <code>7.x</code> 及更早版本无此问题，所有已下载离线词典都能正常使用。但从 <code>8.1</code> 起，仅有“21 世纪大英汉词典”、“现代汉语词典”和某些有道私有词库能离线使用。自 <code>8.4</code> 或 <code>8.5</code> 版本后，也许是由于合约到期，“21 世纪大英汉词典”被下架，但只要不手动删除，还能继续使用；同时，自 <code>6.x</code> 版本开始的无法使用离线语音库的问题被修复。</p><p>综上，此修改版的确是完美去除了词典下载限制，部分离线词典失效不是修改技术的问题，是原版既有的问题。</p><p>所以本人从 <code>8.1</code> 版本中抽取了“21 世纪大英汉词典”进行集成。目前所有集成的离线数据包都能正常使用。</p><h3 id="modify">Modify</h3><ul><li><p>去除广告和其他不顺眼的 UI 组件：<code>strings.xml</code> 中搜索要去掉的元素上显示的文字，复制对应的 Key，搜索所有 UI 相关文件，按需删除即可。对于动态渲染的元素，可以修改 js，删除相关代码，或者 render 一个空元素。</p></li><li><p>避免鼠标悬停于词条页面喇叭按钮时触发语音播放：<code>app.js</code> 中搜索 <code>disable-hover</code>，然后找到用 hover 触发 click 的代码并删除。</p></li><li><p>实现任意账号下载会员词典：<code>app.js</code> 中搜索 <code>={isVip:</code> 和 <code>set(&quot;dict_vipInfo&quot;,</code>，直接将 <code>isVip</code> 和 <code>expire</code> 写死为 <code>true</code>。</p></li></ul><h2 id="download">Download</h2><blockquote><p>已停止提供下载。</p></blockquote><h2 id="update-history">Update History</h2><h3 id="20191026">20191026</h3><ul><li><p>更新启动器，修复启动时窗口失焦的问题。</p></li><li><p>精简 <code>app.css</code>，略微提升启动速度。</p></li></ul><h3 id="20191016">20191016</h3><ul><li><p>修改最小窗口大小。</p></li><li><p>去除一堆本人用不到的组件。</p></li><li><p>修复由于修改失误而导致的某些功能触发 Crash。</p></li></ul><h3 id="20190816">20190816</h3><ul><li><p>更新版本到 <code>8.5.3.0</code>（肉眼可见的离线冷启动首次查询速度提升；似乎修复了无故 Crash 的问题）。</p></li><li><p>去除一些无用组件和不必要的限制。</p></li><li><p>由官方原版进行修改，不再依赖“飞扬时空”的修改版（存在着托盘图标错位，点击关闭按钮时 Crash 导致设置无法保存等问题）。</p></li><li><p>更新启动器。</p></li><li><p>其他修改。</p></li></ul><h3 id="20190524">20190524</h3><ul><li><p>更新启动器。</p></li><li><p>不再提供无离线词典版。</p></li></ul><h3 id="20181003">20181003</h3><ul><li><p>更新版本到 <code>8.4.0.0</code>（原生支持字体调整及窗口最大化）。</p></li><li><p>再次提供无离线词典版，方便增量更新。</p></li><li><p>未更新离线词典。若已下载旧版本，可以用无离线词典版覆盖更新。</p></li></ul><h3 id="20180908">20180908</h3><ul><li>更新启动器，“便携化”成为了可选选项。</li></ul><h3 id="20180706">20180706</h3><ul><li><p>修改左侧栏背景，使得软件配色更贴近 Win10。</p></li><li><p>重新压缩所有 PNG 图片（Method 9），减小体积。</p></li><li><p>删除部分老旧的皮肤图片资源，减小体积。</p></li><li><p>更新版本到 <code>8.1.2.0</code>（又把减小的体积补回来了）。</p></li><li><p>不再提供无离线词典版。</p></li></ul><h3 id="20180606">20180606</h3><ul><li>首个版本。</li></ul></article></main>