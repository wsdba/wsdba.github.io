<!DOCTYPE html><head><title>规避 Visual Studio 许可证过期的 Bug - kkocdko's blog</title><meta name="description" content="许可证过期后，更新许可证会出错"><script src="/bundle.js" onload="[].flat||(location='/update.html')"></script></head><main><article><h1>规避 Visual Studio 许可证过期的 Bug</h1><blockquote><p>仅在 <code>Visual Studio for Windows</code> 上尝试成功，Mac 版未知。</p><p>本人使用 <code>Visual Studio Community 2019 16.1.3</code>。理论上，此教程也适配其他版本。</p><p>当然，你要先用微软账户登陆。没有账户另当别论。</p></blockquote><h2 id="introduction">Introduction</h2> <img src="/res/20190708-1121-001.webp" width="655" height="435"><p>通常，由于长时间未使用、断网等原因，VS 会提示用户“许可证过期”，这很正常。</p><p>但是在点击了“检查更新的许可证”后，会显示“我们无法下载许可证，请检查你的网络链接或代理设置”。然而事实上网络连接是没有任何问题的，微软的服务器也没有被墙。这是 VS 的一个 Bug。</p><h2 id="solution">Solution</h2><ol><li><p>关闭 Visual Studio。</p></li><li><p>从开始菜单打开 Visual Studio Installer。</p></li><li><p>点击 你安装的版本 &gt; 更多 &gt; 修改。</p></li><li><p>随意增添一个组件，点击右下角 <code>修改</code>。等待修改完成后，关闭 Visual Studio Installer 。</p><ul><li>尽量选择轻量的组件，例如“ClickOnce 发布”。</li><li>可以在右下角看到勾选前后所需磁盘空间的变化，推断出组件大小。</li></ul></li><li><p>打开 Visual Studio ，点击 右上角用户头像 &gt; 账户设置 &gt; 检查更新的许可证,如果一切顺利，将会成功更新许可证（“我们已成功更新了你的许可证”）。</p></li><li><p>关闭 Visual Studio ，打开 Visual Studio Installer ，去掉临时增添的组件。</p></li></ol><h2 id="by-the-way">By the Way</h2><p>这是一个陈旧的 Bug（据记载，它在 VS2013 中就已存在），社区中也早就有了 <a href="https://developercommunity.visualstudio.com/content/problem/69380/unable-to-update-license-1.html">有关这个 Bug 的反馈</a>，但直至今日（20190708）仍然未能修复，在这里强烈谴责巨硬。</p></article></main>