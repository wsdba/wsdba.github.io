<!DOCTYPE html><head><title>优雅地游玩 Minecraft - kkocdko's blog</title><meta name="description" content="提升性能 + 便携化"><script src="/bundle.js" onload="[].flat||(location='/update.html')"></script></head><main><article><h1>优雅地游玩 Minecraft</h1><blockquote><p>仅适用于 <a href="https://minecraft.net/store/minecraft-java-edition">Minecraft Java Edition</a> 和 Windows 平台。其他平台也可参考。</p></blockquote><h2 id="why">Why</h2><ul><li><p>原版 Minecraft 启动器自带的 JRE 版本较旧。性能相对落后。</p></li><li><p>近几个版本的 Minecraft 优化十分糟糕。</p></li><li><p>原版启动器直接将 JRE 安装在当前系统，对于需要多版本 Java 的用户或开发者非常不友好，且无法实现便携化。</p></li></ul><h2 id="principle">Principle</h2><p>使用新版 OpenJDK、OpenJFX，启动器选用 HMCL，附加 Sodium、Lithium、Phosphor 优化 Mod，写个“胶水”批处理将这些东西黏起来，再写个简单程序来隐藏 CMD 窗口，给快捷方式提供图标。</p><h2 id="how">How</h2><p>下载本人提供的模板：</p><p><a href="https://lanzoui.com/b00zplcdc">https://lanzoui.com/b00zplcdc</a></p><p>找个位置解压，然后补齐各个组件：</p><ul><li><p><a href="https://adoptopenjdk.net">AdoptOpenJDK</a>：选择 <code>Java 16</code> &gt; <code>Win 64</code> &gt; <code>JRE</code> &gt; <code>.zip</code>，解压到<code>./jre</code>。</p></li><li><p><a href="https://openjfx.io">OpenJFX</a>：选择 <code>OpenJFX 11</code> &gt; <code>Win 64</code> &gt; <code>SDK</code>，解压到 <code>./jfx</code>。</p></li><li><p><a href="https://github.com/huanghongxun/HMCL">HMCL</a>：选择 <code>.jar</code> 的构建，重命名为 <code>hmcl.jar</code> 后置于 <code>./</code>。</p><ul><li>作者称 GitHub Release 的版本滞后，因此可以在 Readme 中进入 CI 页面，直接下载最新的稳定版构建。</li></ul></li><li><p><a href="https://github.com/jellysquid3/sodium-fabric">Sodium</a>：置于 <code>./.minecraft/mods</code>。</p><ul><li>你也可以选择 <a href="https://github.com/IrisShaders/Iris">Iris</a>。</li></ul></li><li><p><a href="https://github.com/jellysquid3/lithium-fabric">Lithium</a>：置于 <code>./.minecraft/mods</code>。</p></li><li><p><a href="https://github.com/jellysquid3/phosphor-fabric">Phosphor</a>：置于 <code>./.minecraft/mods</code>。</p></li></ul><p>运行 <code>/Minecraft.exe</code>，点击左侧栏“版本列表”，再点击顶部“安装新游戏版本”，选择最新的稳定版本，同时选择安装 Fabric。</p><p>等待安装完成之后，回到主页面启动 Minecraft 即可。</p><details><summary>点此展开冗长的细节（一般用户无需了解）</summary><p><del>OpenJ9 相对默认 Hotspot JVM 占用的内存更少。若你在使用时出现帧数下降等问题，可尝试换回 Hotspot</del> 建议内存充足的用户不要使用 OpenJ9。</p><p>将 HMCL 设置为“游戏启动后结束启动器”，可以省下一些内存。</p><p>如果可能，尽量启用垂直同步。至于 Minecraft 内部的设置优化，请自行参考 MCBBS 或其他论坛里头的优化教程。</p><p>若要追求极致的启动速度（跳过启动器），可以使用 HMCL 中的“生成启动脚本”功能，然后将脚本命名为 <code>launch.bat</code>，原有的同名文件改个别的名字备用（将失去便携化功能，可以自行修改批处理中的路径来恢复便携化）。</p><p>模板中 <code>Minecraft.exe</code> 的源码（使用 <code>tcc</code> 编译）：</p><pre><code class="language-c">#include &lt;windows.h&gt;
void main() {
    ShellExecute(NULL, NULL, &quot;launch.bat&quot;, NULL, NULL, SW_HIDE);
    SetFocus(FindWindow(&quot;Shell_TrayWnd&quot;, NULL)); // Ensure the HMCL window on top
}</code></pre><p>如遇报毒请自行抉择。</p><p>其他源码可以在模板中获取。</p></details></article></main>